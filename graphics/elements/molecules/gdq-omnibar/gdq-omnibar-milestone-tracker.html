<link rel="import" href="../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../../shared/fonts/gdqpixel/import.html">
<link rel="import" href="gdq-omnibar-milestone-tracker-point.html">

<dom-module id="gdq-omnibar-milestone-tracker">
	<template>
		<style>
			:host {
				font-family: gdqpixel;
				will-change: opacity;
				@apply --layout-horizontal;
				@apply --layout-flex;
			}

			#body {
				position: relative;
				overflow: hidden;
				@apply --layout-horizontal;
				@apply --layout-center;
				@apply --layout-flex;
			}

			#nextGoalLabel {
				line-height: normal;
				font-size: 28px;
				text-align: right;
				color: rgba(0, 255, 255, 0.5);
				text-transform: uppercase;
				margin-left: auto;
				padding-right: 7px;
			}

			#start {
				--gdq-omnibar-milestone-tracker-point-color: #FF70C7;
				@apply --layout-flex-none;
			}

			#current {
				--gdq-omnibar-milestone-tracker-point-color: #00FF00;
				will-change: transform;
				z-index: 1;
			}

			#end {
				--gdq-omnibar-milestone-tracker-point-color: var(--gdq-primary-color);
				margin-right: 9px;
				@apply --layout-flex-none;
			}

			#fill {
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				will-change: transform;
				background-color: #00FF00;
				opacity: 0.6;
			}
		</style>

		<gdq-omnibar-milestone-tracker-point
			id="start"
			align="right"
			amount="[[milestone.precedingMilestone.total]]"
			drop-trailing-zeroes>
		</gdq-omnibar-milestone-tracker-point>

		<div id="body">
			<gdq-omnibar-milestone-tracker-point
				id="current"
				align="center"
				amount="[[currentTotal]]">
			</gdq-omnibar-milestone-tracker-point>

			<div id="nextGoalLabel">
				NEXT GOAL: [[milestone.name]]
			</div>

			<div id="fill"></div>
		</div>

		<gdq-omnibar-milestone-tracker-point
			id="end"
			align="left"
			amount="[[milestone.total]]"
			drop-trailing-zeroes>
		</gdq-omnibar-milestone-tracker-point>
	</template>

	<script src="gdq-omnibar-milestone-tracker.js" type="module"></script>
</dom-module>
