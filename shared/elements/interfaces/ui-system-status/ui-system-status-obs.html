<link rel="import" href="../../../../bower_components/nodecg-replicant/nodecg-replicant.html">
<link rel="import" href="../../../../bower_components/polymer/lib/mixins/mutable-data.html">
<link rel="import" href="../../../../bower_components/polymer/polymer-element.html">

<dom-module id="ui-system-status-obs">
	<template>
		<style>
			:host {
				@apply --layout-horizontal;
				@apply --layout-justified;
				@apply --layout-baseline;
				white-space: nowrap;
			}


			#name {
				@apply --layout-flex-none;
				margin-right: 8px;
				text-transform: capitalize;
			}

			#status {
				font-weight: bold;
				overflow: hidden;
				text-overflow: ellipsis;
				text-transform: uppercase;
				text-align: right;
			}

			:host([status="connected"]) #status,
			:host([status="cycling"]) #status {
				color: var(--obs-system-status-nominal-color);
			}

			:host([status="disconnected"]) #status,
			:host([status="error"]) #status {
				color: var(--obs-system-status-error-color);
			}

			:host([status="connecting"]) #status {
				color: var(--obs-system-status-warning-color);
			}
		</style>

		<nodecg-replicant replicant-name="[[namespace]]:websocket" value="{{_websocket}}"></nodecg-replicant>

		<span id="name">
			[[label]]:
		</span>

		<span id="status" title="[[status]]">[[status]]</span>
	</template>

	<script src="ui-system-status-obs.js" type="module"></script>
</dom-module>
